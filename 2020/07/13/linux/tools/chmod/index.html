<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Focusing on security of AI, and distributed AI."><title>chmod（File Permissions） | realyee's blog</title><link rel="stylesheet" type="text/css" href="/blog/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/blog/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/blog/favicon.ico"><link rel="apple-touch-icon" href="/blog/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/blog/apple-touch-icon.png"><script src="https://www.googletagmanager.com/gtag/js?id=G-HT3KXNPC43" async></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-HT3KXNPC43');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement('script');
  hm.src = 'https://hm.baidu.com/hm.js?' + '81692a5a3ea48096c98733a7d4bfef6b';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><div class="darkmode-toggle">🌓</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">chmod（File Permissions）</h1><a id="logo" href="/blog/.">realyee's blog</a><p class="description">Security and privacy of AI, and distributed AI, Cybersecurity</p></div><div id="nav-menu"><a class="current" href="/blog/."><i class="fa fa-home"> Home</i></a><a href="/blog/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/blog/tags/"><i class="fa fa-tag"> Tags</i></a><a href="/blog/history/"><i class="fa fa-book"> History</i></a><a href="/blog/cheatsheet/"><i class="fa fa-user"> Cheatsheet</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">chmod（File Permissions）</h1><div class="post-meta">2020-07-13<span> | </span><span class="category"><a href="/blog/categories/linux/">linux</a><a href="/blog/categories/linux/tools/">tools</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 1.9k</span><span class="post-meta-item-text"> Words</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 9</span><span class="post-meta-item-text"> Minutes</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">Contents</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#linux-file-permissions"><span class="toc-number">1.</span> <span class="toc-text">Linux File Permissions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#chmod-%E4%BD%BF%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">chmod 使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#symbolic-text-method"><span class="toc-number">3.</span> <span class="toc-text">Symbolic (Text) Method</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#numeric-method"><span class="toc-number">4.</span> <span class="toc-text">Numeric Method</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#using-a-reference-file"><span class="toc-number">5.</span> <span class="toc-text">Using a Reference File</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#recursively-change-the-files-permissions"><span class="toc-number">6.</span> <span class="toc-text">Recursively Change the
File’s Permissions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#operating-on-symbolic-links"><span class="toc-number">7.</span> <span class="toc-text">Operating on Symbolic Links</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#changing-file-permissions-in-bulk"><span class="toc-number">8.</span> <span class="toc-text">Changing File Permissions in
Bulk</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">9.</span> <span class="toc-text">参考资料</span></a></li></ol></div></div><div class="post-content"><h2 id="linux-file-permissions">Linux File Permissions</h2>
<p>类 unix 系统上的所有文件系统对象都有三种主要的权限类型:read、write 和
execute 权限。这些权限被赋予给三类用户：the user(the file owner), the
group, and the others.</p>
<p>要查看文件权限，可以使用 <code>ls</code> 的<code>-l</code> (long
format) 选项：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> -l</span></span><br><span class="line">total 12K</span><br><span class="line">-rw-r--r-- 2 violetv violetv  426  6月 14 16:40 batch.py</span><br><span class="line">-rw-r--r-- 2 violetv violetv  426  6月 14 16:40 hard_link_batch.py</span><br><span class="line">lrwxrwxrwx 1 violetv violetv    8  6月 29 10:02 soft_link_batch.py -&gt; batch.py</span><br><span class="line">drwxr-xr-x 2 violetv violetv 4.0K  6月 13 14:37 test1</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r-- 12 linuxize users 12.0K Apr  8 20:51 filename.txt</span><br><span class="line">|[-][-][-]-   [------] [---]</span><br><span class="line">| |  |  | |      |       |</span><br><span class="line">| |  |  | |      |       +-----------&gt; 7. Group</span><br><span class="line">| |  |  | |      +-------------------&gt; 6. Owner</span><br><span class="line">| |  |  | +--------------------------&gt; 5. Alternate Access Method</span><br><span class="line">| |  |  +----------------------------&gt; 4. Others Permissions</span><br><span class="line">| |  +-------------------------------&gt; 3. Group Permissions</span><br><span class="line">| +----------------------------------&gt; 2. Owner Permissions</span><br><span class="line">+------------------------------------&gt; 1. File Type</span><br></pre></td></tr></table></figure>
<p>我们主要研究每一行的第一部分，第一部分有 9 个字符，按照 1，3，3，3
分别四个部分，其含义如下：</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">File type</th>
<th style="text-align: left;">User</th>
<th style="text-align: left;">Group</th>
<th style="text-align: left;">Others</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>d</code> Directory</td>
<td style="text-align: left;"><code>rwx</code></td>
<td style="text-align: left;"><code>r-x</code></td>
<td style="text-align: left;"><code>r-x</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>-</code> Regular file</td>
<td style="text-align: left;"><code>rw-</code></td>
<td style="text-align: left;"><code>r--</code></td>
<td style="text-align: left;"><code>r--</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>l</code> Symbolic Link</td>
<td style="text-align: left;"><code>rwx</code></td>
<td style="text-align: left;"><code>rwx</code></td>
<td style="text-align: left;"><code>rwx</code></td>
</tr>
</tbody>
</table>
<ol type="1">
<li><p>第一个字母代表文件类型，有三种类型分别为：<code>d</code>
目录、<code>-</code> 常规文件、<code>l</code>
符号链接（软链接）</p></li>
<li><p>余下九个字母，分三组分别为 user(Owner)，group，others
的权限。</p>
<ol type="1">
<li><p><code>r</code>: <strong>R</strong>ead</p>
<ul>
<li>文件是否可读</li>
<li>目录内容可看</li>
</ul>
<p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">violetv at manjaro <span class="keyword">in</span> ~/test [12:49:17]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ll |grep batch.py</span></span><br><span class="line">---------- 2 violetv violetv  426  6月 14 16:40 batch.py</span><br><span class="line">---------- 2 violetv violetv  426  6月 14 16:40 hard_link_batch.py</span><br><span class="line">lrwxrwxrwx 1 violetv violetv    8  6月 29 10:02 soft_link_batch.py -&gt; batch.py</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">violetv at manjaro <span class="keyword">in</span> ~/test [12:49:20]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> batch.py</span></span><br><span class="line">cat: batch.py: Permission denied</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">violetv at manjaro <span class="keyword">in</span> ~/test [12:49:20]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> ..</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">violetv at manjaro <span class="keyword">in</span> ~ [12:49:20]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ll|grep <span class="built_in">test</span></span></span><br><span class="line">drwxr-xr-x  2 violetv violetv 4.0K  6月  9 17:00 py_tests</span><br><span class="line">d-wx--x--x  3 violetv violetv 4.0K  6月 29 12:44 test</span><br><span class="line">drwxr-xr-x  4 violetv violetv 4.0K  6月 26 12:45 testsh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">violetv at manjaro <span class="keyword">in</span> ~ [12:50:06]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ll <span class="built_in">test</span></span></span><br><span class="line">ls: cannot open directory &#x27;test&#x27;: Permission denied</span><br></pre></td></tr></table></figure></p></li>
<li><p><code>w</code>: <strong>W</strong>rite</p>
<ul>
<li>文件内容是否可以被修改</li>
<li>目录里的内容是否可以被修改（创建新文件，删除文件，重命名文件）
注意：目录的写权限不影响文件自身的写权限，文件如果自身有写权限，那么文件内的内容可以修改，即：目录权限和文件权限，即：本身的读写执行无关。</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># violetv at manjaro in ~/test [13:37:41]</span></span><br><span class="line">$ ll ../ |grep test</span><br><span class="line">drwxr-xr-x  <span class="number">2</span> violetv violetv <span class="number">4.0</span>K  <span class="number">6</span>月  <span class="number">9</span> <span class="number">17</span>:<span class="number">00</span> py_tests</span><br><span class="line">dr-xr-xr-x  <span class="number">3</span> violetv violetv <span class="number">4.0</span>K  <span class="number">6</span>月 <span class="number">29</span> <span class="number">12</span>:<span class="number">44</span> test</span><br><span class="line">drwxr-xr-x  <span class="number">4</span> violetv violetv <span class="number">4.0</span>K  <span class="number">6</span>月 <span class="number">26</span> <span class="number">12</span>:<span class="number">45</span> testsh</span><br><span class="line"></span><br><span class="line"><span class="comment"># violetv at manjaro in ~/test [13:37:53]</span></span><br><span class="line">$ rm batch.py</span><br><span class="line">rm: remove write-protected regular file <span class="string">&#x27;batch.py&#x27;</span>? y</span><br><span class="line">rm: cannot remove <span class="string">&#x27;batch.py&#x27;</span>: Permission denied</span><br><span class="line"></span><br><span class="line"><span class="comment"># violetv at manjaro in ~/test [13:38:06]</span></span><br><span class="line">$ mv batch.py batch_temp.py</span><br><span class="line">mv: cannot move <span class="string">&#x27;batch.py&#x27;</span> to <span class="string">&#x27;batch_temp.py&#x27;</span>: Permission denied</span><br></pre></td></tr></table></figure></p></li>
<li><p><code>x</code>: e<strong>X</strong>ecu 对应位置（r 或 w 或
x）的权限</p>
<ul>
<li>文件是否可执行（是否具有可执行权限）</li>
<li>目录是否可以 <code>cd</code> 进入</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># violetv at manjaro in ~ [13:43:36]</span></span><br><span class="line">$ ll| grep test</span><br><span class="line">drwxr-xr-x  <span class="number">2</span> violetv violetv <span class="number">4.0</span>K  <span class="number">6</span>月  <span class="number">9</span> <span class="number">17</span>:<span class="number">00</span> py_tests</span><br><span class="line">dr--r--r--  <span class="number">3</span> violetv violetv <span class="number">4.0</span>K  <span class="number">6</span>月 <span class="number">29</span> <span class="number">12</span>:<span class="number">44</span> test</span><br><span class="line">drwxr-xr-x  <span class="number">4</span> violetv violetv <span class="number">4.0</span>K  <span class="number">6</span>月 <span class="number">26</span> <span class="number">12</span>:<span class="number">45</span> testsh</span><br><span class="line"></span><br><span class="line"><span class="comment"># violetv at manjaro in ~ [13:43:43]</span></span><br><span class="line">$ cd test</span><br><span class="line">cd: permission denied: test</span><br></pre></td></tr></table></figure></p></li>
</ol>
<ul>
<li><code>-</code>: 代表没有该权限</li>
</ul></li>
</ol>
<blockquote>
<p>Note that access to files targeted by symbolic links is controlled by
the permissions of the targeted file, not the permissions of the link
object</p>
</blockquote>
<h2 id="chmod-使用"><code>chmod</code> 使用</h2>
<p><code>chmod [OPTIONS] MODE FILE...</code></p>
<p><code>chmod</code> (change mode) 命令允许你使用 3
种方式改变文件的权限：</p>
<ol type="1">
<li>Symbolic Method</li>
<li>Numeric Method</li>
<li>Reference Method</li>
</ol>
<p>该命令可以接受一个或多个文件或目录（以空格分隔）作为参数</p>
<h2 id="symbolic-text-method">Symbolic (Text) Method</h2>
<p>当使用符号方法时，命令的格式大致为这样</p>
<p><code>chmod [OPTIONS] [ugoa…][-+=]perms…,[…] FILE...</code></p>
<p>第一个 flag（users flags）： <code>[ugoa…]</code>
定义要改变哪个用户类关于本文件的权限。 如果不指定此 flag， 默认为全部
users，也就相当于指定 flag <code>a</code>。</p>
<ul>
<li><code>u</code>： The <strong>u</strong>ser(the file owner).</li>
<li><code>g</code>： The members of the <strong>g</strong>roup.</li>
<li><code>o</code>： All <strong>o</strong>ther users.</li>
<li><code>a</code>： <strong>A</strong>ll users, identical to ugo.</li>
</ul>
<blockquote>
<p>If the users flag is omitted, the default one is a and the
permissions that are set by umask are not affected.</p>
</blockquote>
<p>第二个 flag（the operation flags）： <code>[-+=]</code>
定义哪些权限要被增加删除或者设置</p>
<ul>
<li><code>-</code>： Removes the specified permissions.</li>
<li><code>+</code>： Adds specified permissions.</li>
<li><code>=</code>： Changes the current permissions to the specified
permissions. If no permissions are specified after the <code>=</code>
symbol, all permissions from the specified user class are removed.</li>
</ul>
<p>权限(perms...) 可以被明确地设定为 0 或者 <code>r,w,x</code>
中的一个或几个。此外，当你想要从一个用户类拷贝权限到另一个用户类时，也可以使用<code>u,g,o</code>
中的一个字符。</p>
<p>当设置为多个用户类别设置权限的时候，使用逗号（注意逗号前后不要空格，否则会报错）</p>
<p>例子：</p>
<p><code>chmod a-x filename</code>、<code>chmod og-rwx filename</code>、<code>chmod og= filename</code>、<code>chmod u=rwx,g=r,o= filename</code>、<code>chmod g+u filename</code></p>
<h2 id="numeric-method">Numeric Method</h2>
<p>Octal Notation for File Permissions(文件权限的八进制表示法)</p>
<p>格式：<code>chmod [OPTIONS] NUMBER FILE...</code></p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="header">
<th>column0</th>
<th>column1</th>
<th>column2</th>
<th>column3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>权限</td>
<td>权限数值</td>
<td>二进制</td>
<td>具体作用</td>
</tr>
<tr class="even">
<td>r</td>
<td>4</td>
<td>00000100</td>
<td><strong>r</strong>ead，读取。当前用户可以读取文件内容，当前用户可以浏览目录。</td>
</tr>
<tr class="odd">
<td>w</td>
<td>2</td>
<td>00000010</td>
<td><strong>w</strong>rite，写入。当前用户可以新增或修改文件内容，当前用户可以删除、移动目录或目录内文件。</td>
</tr>
<tr class="even">
<td>x</td>
<td>1</td>
<td>00000001</td>
<td>e<strong>x</strong>ecute，执行。当前用户可以执行文件，当前用户可以进入目录。</td>
</tr>
<tr class="odd">
<td>no permission</td>
<td>0</td>
<td>00000000</td>
<td>无权限</td>
</tr>
</tbody>
</table>
<p>例如：<code>chmod 754 filename</code></p>
<p>依照上面的表格，权限组合就是对应权限值求和，如下：</p>
<p>7 = 4 + 2 + 1 读写运行权限 5 = 4 + 1 读和运行权限 4 = 4 只读权限</p>
<p>即：将 filename
文件的读写运行权限赋予文件所有者，把读和运行的权限赋予群组用户，把读的权限赋予其他用户。</p>
<h2 id="using-a-reference-file">Using a Reference File</h2>
<p>格式： <code>chmod --reference=REF_FILE FILE</code></p>
<p>The <code>--reference=ref_file</code> option
允许你参照指定文件设置相同的权限。</p>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">violetv at manjaro <span class="keyword">in</span> ~/test [14:54:48]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">chmod</span> 754 batch.py</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">violetv at manjaro <span class="keyword">in</span> ~/test [14:55:13]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ll</span></span><br><span class="line">total 12K</span><br><span class="line">-rwxrwxrwx 1 violetv violetv    0  6月 29 14:24 1.py</span><br><span class="line">-rwxr-xr-- 2 violetv violetv  431  6月 29 13:45 batch.py</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">violetv at manjaro <span class="keyword">in</span> ~/test [14:55:14]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">chmod</span> --reference=batch.py 1.py</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">violetv at manjaro <span class="keyword">in</span> ~/test [14:55:26]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ll</span></span><br><span class="line">total 12K</span><br><span class="line">-rwxr-xr-- 1 violetv violetv    0  6月 29 14:24 1.py</span><br><span class="line">-rwxr-xr-- 2 violetv violetv  431  6月 29 13:45 batch.py</span><br></pre></td></tr></table></figure>
<h2 id="recursively-change-the-files-permissions">Recursively Change the
File’s Permissions</h2>
<p>对给定目录下的所有文件和目录进行递归操作，使用
<code>-R</code>（<code>--recursive</code>） 参数</p>
<p>格式：<code>chmod -R MODE DIRECTORY</code></p>
<h2 id="operating-on-symbolic-links">Operating on Symbolic Links</h2>
<p>符号链接（软链接）的权限总是为
777。当你要改变符号链接（软链接）的权限，实际上改变的是链接指向的文件的权限。</p>
<p>示例：batch.py 及其软链接</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">violetv at manjaro <span class="keyword">in</span> ~/test [14:57:54]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ll</span></span><br><span class="line">total 12K</span><br><span class="line">-rwxr-xr-- 1 violetv violetv    0  6月 29 14:24 1.py</span><br><span class="line">-rwxr-xr-- 2 violetv violetv  431  6月 29 13:45 batch.py</span><br><span class="line">-rwxr-xr-- 2 violetv violetv  431  6月 29 13:45 hard_link_batch.py</span><br><span class="line">lrwxrwxrwx 1 violetv violetv    8  6月 29 10:02 soft_link_batch.py -&gt; batch.py</span><br><span class="line">drwxr-xr-x 2 violetv violetv 4.0K  6月 13 14:37 test1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">violetv at manjaro <span class="keyword">in</span> ~/test [14:57:55]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">chmod</span> 777 soft_link_batch.py</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">violetv at manjaro <span class="keyword">in</span> ~/test [14:59:53]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ll</span></span><br><span class="line">total 12K</span><br><span class="line">-rwxr-xr-- 1 violetv violetv    0  6月 29 14:24 1.py</span><br><span class="line">-rwxrwxrwx 2 violetv violetv  431  6月 29 13:45 batch.py</span><br><span class="line">-rwxrwxrwx 2 violetv violetv  431  6月 29 13:45 hard_link_batch.py</span><br><span class="line">lrwxrwxrwx 1 violetv violetv    8  6月 29 10:02 soft_link_batch.py -&gt; batch.py</span><br><span class="line">drwxr-xr-x 2 violetv violetv 4.0K  6月 13 14:37 test1</span><br></pre></td></tr></table></figure>
<h2 id="changing-file-permissions-in-bulk">Changing File Permissions in
Bulk</h2>
<ol type="1">
<li><p>对某一个文件夹下所有的文件夹都赋予执行权限: 例如：对
<code>~/foldername/</code>
文件都赋予执行权限：<code>chmod +x ~/foldername/*</code></p></li>
<li><p>使用 <code>find</code> 命令，例如：</p>
<p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">find /var/www/my_website -type d -exec chmod 755 &#123;&#125; \;</span><br><span class="line">find /var/www/my_website -type f -exec chmod 644 &#123;&#125; \;</span><br><span class="line">find /var/www/my_website -type d -exec chmod u=rwx,go=rx &#123;&#125; \;</span><br><span class="line">find /var/www/my_website -type f -exec chmod u=rw,go=r &#123;&#125; \;</span><br></pre></td></tr></table></figure></p></li>
</ol>
<h2 id="参考资料">参考资料</h2>
<p><a target="_blank" rel="noopener" href="https://linuxize.com/post/chmod-command-in-linux/">Chmod
Command in Linux (File Permissions)</a></p>
<p><a
target="_blank" rel="noopener" href="https://www.linode.com/docs/tools-reference/tools/modify-file-permissions-with-chmod/">Modify
File Permissions with chmod</a></p>
</div><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/chmod/" rel="tag">chmod</a></li></ul></div><div class="post-nav"><a class="pre" href="/blog/2020/07/13/utilities/pylinux_ocr/">Linux 下使用 Python OCR 识别</a><a class="next" href="/blog/2020/07/13/linux/tools/head_tail/">head 和 tail 命令</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/" title=""><img class="nofancybox" src="/blog/img/avatar.png"/></a><p>What keeps me alive is my love for people and life and my desire to explore the unknown</p><a class="info-icon" href="mailto:findrealyee@outlook.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/realyee/" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Cryptography/">Cryptography</a><span class="category-list-count">29</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Cryptography/math/">math</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Cryptography/zero-knowledge-proof/">zero-knowledge proof</a><span class="category-list-count">20</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Golang/">Golang</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/academic/">academic</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/blockchain/">blockchain</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/cplusplus/">cplusplus</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/go/">go</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/linux/">linux</a><span class="category-list-count">34</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/linux/git/">git</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/linux/macos/">macos</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/linux/tools/">tools</a><span class="category-list-count">12</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/misc/">misc</a><span class="category-list-count">16</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/misc/latex/">latex</a><span class="category-list-count">5</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/ml/">ml</a><span class="category-list-count">27</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/ml/rl/">rl</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/network/">network</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/os/">os</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/php/">php</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/probabilities/">probabilities</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/python/">python</a><span class="category-list-count">64</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/security-miscellaneous/">security miscellaneous</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/shell/">shell</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/utilities/">utilities</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/websec/">websec</a><span class="category-list-count">35</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/websec/cmd-execution/">cmd_execution</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/websec/file-upload/">file_upload</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/websec/logic-vuln/">logic_vuln</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/websec/sql-injection/">sql injection</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/websec/xss/">xss</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/wireshark/">wireshark</a><span class="category-list-count">7</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/blog/tags/academic/" style="font-size: 15px;">academic</a> <a href="/blog/tags/sci/" style="font-size: 15px;">sci</a> <a href="/blog/tags/jcr/" style="font-size: 15px;">jcr</a> <a href="/blog/tags/ml/" style="font-size: 15px;">ml</a> <a href="/blog/tags/cuda/" style="font-size: 15px;">cuda</a> <a href="/blog/tags/misc/" style="font-size: 15px;">misc</a> <a href="/blog/tags/vscode/" style="font-size: 15px;">vscode</a> <a href="/blog/tags/threat-intelligence/" style="font-size: 15px;">threat intelligence</a> <a href="/blog/tags/typing/" style="font-size: 15px;">typing</a> <a href="/blog/tags/distance/" style="font-size: 15px;">distance</a> <a href="/blog/tags/osi-sec/" style="font-size: 15px;">osi_sec</a> <a href="/blog/tags/smtp/" style="font-size: 15px;">smtp</a> <a href="/blog/tags/mail/" style="font-size: 15px;">mail</a> <a href="/blog/tags/Boot/" style="font-size: 15px;">Boot</a> <a href="/blog/tags/Computer/" style="font-size: 15px;">Computer</a> <a href="/blog/tags/FAT/" style="font-size: 15px;">FAT</a> <a href="/blog/tags/FDT/" style="font-size: 15px;">FDT</a> <a href="/blog/tags/os/" style="font-size: 15px;">os</a> <a href="/blog/tags/efi/" style="font-size: 15px;">efi</a> <a href="/blog/tags/Python/" style="font-size: 15px;">Python</a> <a href="/blog/tags/Tools/" style="font-size: 15px;">Tools</a> <a href="/blog/tags/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/" style="font-size: 15px;">网络协议</a> <a href="/blog/tags/Wireshark%E5%8A%9F%E8%83%BD/" style="font-size: 15px;">Wireshark功能</a> <a href="/blog/tags/%E6%B8%97%E9%80%8F/" style="font-size: 15px;">渗透</a> <a href="/blog/tags/%E6%8A%93%E5%8C%85/" style="font-size: 15px;">抓包</a> <a href="/blog/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 15px;">计算机网络</a> <a href="/blog/tags/zkp/" style="font-size: 15px;">zkp</a> <a href="/blog/tags/circom/" style="font-size: 15px;">circom</a> <a href="/blog/tags/git/" style="font-size: 15px;">git</a> <a href="/blog/tags/ssh/" style="font-size: 15px;">ssh</a> <a href="/blog/tags/arch/" style="font-size: 15px;">arch</a> <a href="/blog/tags/manjaro/" style="font-size: 15px;">manjaro</a> <a href="/blog/tags/chmod/" style="font-size: 15px;">chmod</a> <a href="/blog/tags/ping/" style="font-size: 15px;">ping</a> <a href="/blog/tags/network/" style="font-size: 15px;">network</a> <a href="/blog/tags/find/" style="font-size: 15px;">find</a> <a href="/blog/tags/head/" style="font-size: 15px;">head</a> <a href="/blog/tags/tail/" style="font-size: 15px;">tail</a> <a href="/blog/tags/ioredirect/" style="font-size: 15px;">ioredirect</a> <a href="/blog/tags/pipe/" style="font-size: 15px;">pipe</a> <a href="/blog/tags/fd/" style="font-size: 15px;">fd</a> <a href="/blog/tags/iproute2/" style="font-size: 15px;">iproute2</a> <a href="/blog/tags/kill/" style="font-size: 15px;">kill</a> <a href="/blog/tags/hardlink/" style="font-size: 15px;">hardlink</a> <a href="/blog/tags/softlink/" style="font-size: 15px;">softlink</a> <a href="/blog/tags/netstat/" style="font-size: 15px;">netstat</a> <a href="/blog/tags/ss/" style="font-size: 15px;">ss</a> <a href="/blog/tags/lsof/" style="font-size: 15px;">lsof</a> <a href="/blog/tags/traceroute/" style="font-size: 15px;">traceroute</a> <a href="/blog/tags/vim/" style="font-size: 15px;">vim</a> <a href="/blog/tags/latex/" style="font-size: 15px;">latex</a> <a href="/blog/tags/CNN/" style="font-size: 15px;">CNN</a> <a href="/blog/tags/convolution/" style="font-size: 15px;">convolution</a> <a href="/blog/tags/CMake/" style="font-size: 15px;">CMake</a> <a href="/blog/tags/Make/" style="font-size: 15px;">Make</a> <a href="/blog/tags/php/" style="font-size: 15px;">php</a> <a href="/blog/tags/python/" style="font-size: 15px;">python</a> <a href="/blog/tags/re/" style="font-size: 15px;">re</a> <a href="/blog/tags/Regexp/" style="font-size: 15px;">Regexp</a> <a href="/blog/tags/shell/" style="font-size: 15px;">shell</a> <a href="/blog/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/blog/tags/pseudo-static/" style="font-size: 15px;">pseudo static</a> <a href="/blog/tags/sql-injection/" style="font-size: 15px;">sql injection</a> <a href="/blog/tags/XSS/" style="font-size: 15px;">XSS</a> <a href="/blog/tags/collection/" style="font-size: 15px;">collection</a> <a href="/blog/tags/collections/" style="font-size: 15px;">collections</a> <a href="/blog/tags/comprehensions/" style="font-size: 15px;">comprehensions</a> <a href="/blog/tags/fun/" style="font-size: 15px;">fun</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/2023/09/18/ml/wasserstein_dist/">Delve into Wasserstein Distance, principles and implementation analysis</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/09/17/math/probabilities/wasserstein_bg/">Probabilities background for Wasserstein Distance</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/08/11/academic/papers/ldp_location/">L-SRR Local Differential Privacy for Location-Based Services with Staircase Randomized Response</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/08/10/academic/papers/ldp_byz_fl/">Practical Differentially Private and Byzantine-resilient Federated Learning</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/08/04/academic/papers/fedrecover/">FedRecover 论文阅读笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/08/04/academic/papers/flcert/">FLCert Provably Secure Federated Learning against Poisoning Attacks 论文阅读笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/08/04/academic/papers/fltrust/">FLTrust Byzantine-robust Federated Learning via Trust Bootstrapping 论文阅读笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/05/30/crypto/zk/specific2program/">zk with programmability</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/04/30/crypto/zk/great_resource/">zk 资料汇总</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/04/16/misc/latex/latex_grammars/">常用 LaTeX 语法总结</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://snowolf0620.xyz/" title="snowolf0620" target="_blank">snowolf0620</a><ul></ul><a href="https://space.keter.top/" title="Sonder" target="_blank">Sonder</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2024 <a href="/blog/." rel="nofollow">realyee's blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/blog/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/blog/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/blog/css/search.css?v=1.0.0"><script type="text/javascript" src="/blog/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/blog/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/blog/js/copycode.js?v=1.0.0" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/blog/css/copycode.css?v=1.0.0"><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/blog/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/blog/js/smartresize.js?v=1.0.0"></script></div></body></html>