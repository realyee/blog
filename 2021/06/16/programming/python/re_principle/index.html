<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Focusing on security of AI, and distributed AI."><title>Python Regexp 原理与语法 | realyee's blog</title><link rel="stylesheet" type="text/css" href="/blog/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/blog/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/blog/favicon.ico"><link rel="apple-touch-icon" href="/blog/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/blog/apple-touch-icon.png"><script src="https://www.googletagmanager.com/gtag/js?id=G-HT3KXNPC43" async></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-HT3KXNPC43');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement('script');
  hm.src = 'https://hm.baidu.com/hm.js?' + '81692a5a3ea48096c98733a7d4bfef6b';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><div class="darkmode-toggle">🌓</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Python Regexp 原理与语法</h1><a id="logo" href="/blog/.">realyee's blog</a><p class="description">Security and privacy of AI, and distributed AI, Cybersecurity</p></div><div id="nav-menu"><a class="current" href="/blog/."><i class="fa fa-home"> Home</i></a><a href="/blog/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/blog/tags/"><i class="fa fa-tag"> Tags</i></a><a href="/blog/history/"><i class="fa fa-book"> History</i></a><a href="/blog/cheatsheet/"><i class="fa fa-user"> Cheatsheet</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Python Regexp 原理与语法</h1><div class="post-meta">2021-06-16<span> | </span><span class="category"><a href="/blog/categories/python/">python</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 3k</span><span class="post-meta-item-text"> Words</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 14</span><span class="post-meta-item-text"> Minutes</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">Contents</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#online-regexp-debug"><span class="toc-number">1.</span> <span class="toc-text">Online RegExp Debug</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A5%BD%E7%9A%84%E8%B5%84%E6%96%99"><span class="toc-number">2.</span> <span class="toc-text">好的资料</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#python-regular-expression-terminology"><span class="toc-number">3.</span> <span class="toc-text">Python Regular Expression
Terminology</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">4.</span> <span class="toc-text">基本使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E5%A7%8B%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">5.</span> <span class="toc-text">原始字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">6.</span> <span class="toc-text">注意事项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#reserved-characters"><span class="toc-number">6.1.</span> <span class="toc-text">Reserved characters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#conditional-expression"><span class="toc-number">6.2.</span> <span class="toc-text">Conditional Expression</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#example"><span class="toc-number">6.2.1.</span> <span class="toc-text">Example</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#regular-expression-engine---five-key-point"><span class="toc-number">7.</span> <span class="toc-text">Regular Expression
Engine - Five Key Point</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#regular-expression-engine-introduction"><span class="toc-number">7.1.</span> <span class="toc-text">Regular Expression
Engine Introduction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#five-key-points"><span class="toc-number">7.2.</span> <span class="toc-text">Five key Points</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#one-character-at-a-time"><span class="toc-number">7.2.1.</span> <span class="toc-text">One Character at a time</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#left-to-right"><span class="toc-number">7.2.2.</span> <span class="toc-text">Left to Right</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#example-1"><span class="toc-number">7.2.2.1.</span> <span class="toc-text">Example</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#pattern-adjust"><span class="toc-number">7.2.2.2.</span> <span class="toc-text">Pattern Adjust</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pattern-adjust-again"><span class="toc-number">7.2.3.</span> <span class="toc-text">Pattern Adjust Again</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#summary"><span class="toc-number">7.2.4.</span> <span class="toc-text">Summary</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#greedylazy-and-backtracking"><span class="toc-number">7.3.</span> <span class="toc-text">Greedy，lazy and Backtracking</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#example-2"><span class="toc-number">7.3.1.</span> <span class="toc-text">Example</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lazy"><span class="toc-number">7.3.2.</span> <span class="toc-text">Lazy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#example-3"><span class="toc-number">7.3.3.</span> <span class="toc-text">Example</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#groups"><span class="toc-number">7.4.</span> <span class="toc-text">Groups</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#indexed-named-non-capturing"><span class="toc-number">7.4.1.</span> <span class="toc-text">Indexed， Named， Non
Capturing</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#indexed-group"><span class="toc-number">7.4.1.1.</span> <span class="toc-text">Indexed Group</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#named-group"><span class="toc-number">7.4.2.</span> <span class="toc-text">Named Group</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#non-capturing-groups"><span class="toc-number">7.4.2.1.</span> <span class="toc-text">Non-Capturing Groups</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#group---back-reference-and-substitution"><span class="toc-number">7.4.3.</span> <span class="toc-text">Group - Back reference
and Substitution</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lookarounds"><span class="toc-number">7.5.</span> <span class="toc-text">Lookarounds</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#regular-expression-proformance"><span class="toc-number">8.</span> <span class="toc-text">Regular Expression
Proformance</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#backtracking-exponential-delay-example"><span class="toc-number">8.1.</span> <span class="toc-text">Backtracking Exponential
Delay Example</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#issues-and-fix"><span class="toc-number">9.</span> <span class="toc-text">4.2. Issues and Fix</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#module-versus-compiled-regex-method-invocation"><span class="toc-number">10.</span> <span class="toc-text">Module Versus
Compiled Regex Method Invocation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#match-unicode-characters"><span class="toc-number">11.</span> <span class="toc-text">Match Unicode Characters</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">12.</span> <span class="toc-text">参考资料</span></a></li></ol></div></div><div class="post-content"><p>本文并未覆盖 Python
正则的全部知识，网上优秀的教程很多，无需重复，这里只记录一些易忘点、难点以及好的索引链接</p>
<h2 id="online-regexp-debug">Online RegExp Debug</h2>
<p><a target="_blank" rel="noopener" href="https://www.regex101.com">regex101</a>
注意测试时，在右侧的语言栏选择 Pyhton <a
target="_blank" rel="noopener" href="https://www.debuggex.com">debuggex</a> <a
target="_blank" rel="noopener" href="https://jex.im/regulex">JavaScript Regular Expression
Visualizer.</a></p>
<h2 id="好的资料">好的资料</h2>
<p><a
target="_blank" rel="noopener" href="https://learning.oreilly.com/videos/2018-python-regular/9781789539523">2018
Python Regular Expressions - Real World Projects</a></p>
<p><a
target="_blank" rel="noopener" href="https://github.com/ziishaned/learn-regex/blob/master/README.md">learn-regex
the easyest way</a></p>
<p>这两个资料我是依次都看完了的。第一个是 oreilly
的课程，深入潜出，是我第一次完整地学完一套英文教程，很是欣喜。
第一个教程(几乎)没有讲 lookahead 和 lookbehind 等 zero-width assertion
知识，因此，我找到第二个资料，把它看了一遍。</p>
<p>只看教程，不动手学不好，如果暂时找不到实际项目用处，可以先刷一刷题目，各大刷题网站均可，我当时刷的
<a
target="_blank" rel="noopener" href="https://www.hackerrank.com/">hackerrank</a>（为啥？因为我当时谷歌英文搜索正则练习题目的时候，它排在前面，哈哈)</p>
<h2 id="python-regular-expression-terminology">Python Regular Expression
Terminology</h2>
<ul>
<li>Pattern - A text pattern of interest expressed in Regular Expression
Language</li>
<li>Text – String in which to look for a match with a given pattern</li>
<li>Regex Engine - Regular Expression Engine that does the actual
work</li>
<li>Regex Module – Python module for interacting with Regex Engine.</li>
</ul>
<p>Module: re</p>
<h2 id="基本使用">基本使用</h2>
<ol type="1">
<li><p>re 模块简单使用</p>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">10</span>]: <span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">In [<span class="number">11</span>]: test = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ...: hello 12 world</span></span><br><span class="line"><span class="string">    ...: Goodbye 224 world</span></span><br><span class="line"><span class="string">    ...: h yet anothet &#x27;h&#x27;</span></span><br><span class="line"><span class="string">    ...: &quot;&quot;&quot;</span></span><br><span class="line">In [<span class="number">15</span>]: pattern = <span class="string">r&quot;\d&#123;1,&#125;&quot;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">16</span>]: match_obj = re.search(pattern, test)</span><br><span class="line"></span><br><span class="line">In [<span class="number">17</span>]: <span class="built_in">print</span>(match_obj)</span><br><span class="line">&lt;re.Match <span class="built_in">object</span>; span=(<span class="number">7</span>, <span class="number">9</span>), <span class="keyword">match</span>=<span class="string">&#x27;12&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line">In [<span class="number">18</span>]: <span class="built_in">print</span>(match_obj.group())</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure></p></li>
</ol>
<p>详细的 Python 正则函数与方法的使用等在另一篇博文写。</p>
<h2 id="原始字符串">原始字符串</h2>
<p>为什么 pattern 写的时候，需要使用原始字符串？</p>
<ul class="task-list">
<li><label><input type="checkbox" />写清楚</label></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/21e2cfb7f829">Python 中有关
rawString(raw 字符串)的理解</a> <a
target="_blank" rel="noopener" href="https://docs.python.org/2/library/re.html">7.2. re — Regular
expression operations</a></p>
<h2 id="注意事项">注意事项</h2>
<h3 id="reserved-characters">Reserved characters</h3>
<ol type="1">
<li><p>Reserved characters such as
<code>&#123; &#125; [ ] / \ + * . $ ^ | ?</code> will not be reserverd in sets,
which means there is no need to escape Reserved characters in sets.
例如, <code>[(+*)]</code> 将匹配任何文字字符 '(' , '+' , '*' 或 ')'
。</p></li>
<li><p>Reserved characters in group or Zero-width assertions still need
to be escaped</p></li>
<li><p><code>|</code> An alternator at this position effectively
truncates the entire pattern, rendering any other tokens beyond this
point useless</p></li>
<li><p>引号并不影响 <code>\b</code>
边界的匹配，就是说，即使一个单词挨着多个引号，正则引擎也会把匹配该单词。</p></li>
<li><p><code>^、$</code>
将逐个输入作为一个字符串，只作用于该字符串的开头和结尾，如果你想要把每一行单独对待，匹配它们的开头，则需要使用
<code>m</code> flag
当匹配开头/结尾时，如果想将每行的开头/结尾单独出来看，也可使用
multi-mode inline option</p></li>
<li><p>对于取反, <code>^</code> 需要是<code>[]</code> 中开头第一个字符,
否则它就变成了字面意思的 <code>^</code>。</p></li>
</ol>
<h3 id="conditional-expression">Conditional Expression</h3>
<p>Learn about branching in regular expressions.</p>
<p>if ... then ... else： n -&gt; group number name -&gt; group name</p>
<p><code>(?(n)yes_expression | no_expression)</code>
<code>(?(name)yes_expression | no_expression)</code></p>
<p>如果 group n 或者 group name 的条件满足了，那么就执行 yes_expression,
否则执行 no_expression</p>
<p>这个就像 (A|B) 的升级版， (A|B) 是或者 A 或者 B，而它加一个
<code>?(n)</code>，对前面的分组进行判断，就成为了((?(n))A|B)。</p>
<h4 id="example">Example</h4>
<p>if starting character is digit, text need to 3 digits else text neads
to be 4 letters</p>
<p>Pattern 1: <code>\b(\d)?(?(1)\d&#123;2&#125;|[a-z]&#123;4&#125;)\b</code> 如果 ?(1) group
1，即： 满足了，那么执行 匹配，否则执行[a-z]{4}，然后两边都有 word
boundary.</p>
<p>Pattern 2：
<code>\b(?P&lt;test&gt;\d)(?&lt;test&gt;\d&#123;2&#125;|[a-z]&#123;4&#125;)\b</code></p>
<p>or simply: <code>\b(\d&#123;3&#125;|[a-z]&#123;4&#125;)\b</code> 匹配 3 个数字或者 4
个字符。</p>
<h2 id="regular-expression-engine---five-key-point">Regular Expression
Engine - Five Key Point</h2>
<h3 id="regular-expression-engine-introduction">Regular Expression
Engine Introduction</h3>
<p>Python, Perl, .Net Regular Expression Engines
属于不确定有限状态自动机（Nondeterministic Finite
Automation）的一类实现。</p>
<p>Pattern 驱动着正则引擎处理输入文本，并选择恰当的路径。</p>
<p>牢记之前的成功状态，以防遇到不完整匹配时，可以退回之前成功匹配的状态，尝试其他路径（这里和自己用
c 指针写字符串匹配类似） Regex
引擎本质上是通用的，并按照模式中的指示采取路径。它依赖于开发者定义有效的
pattern 来指导引擎。</p>
<h3 id="five-key-points">Five key Points</h3>
<h4 id="one-character-at-a-time">One Character at a time</h4>
<p>It compares and matches one character at aa time.</p>
<h4 id="left-to-right">Left to Right</h4>
<p>Pattern is traversed left to right. Text also is traversed left to
right</p>
<ul>
<li>Pattern defined left most is attempted first and gradually moves
right to attempt</li>
<li>All viable Patterns are evaluated before proceeding with next
character in the text.</li>
</ul>
<h5 id="example-1">Example</h5>
<p>Left to Right Problem: Find all words that contain car or carpet
Pattern: <code>car | carpet</code> Text: carpet and car</p>
<figure>
<img
src="https://raw.githubusercontent.com/violetu/blogimages/master/20200630174032.png"
alt="left2right_one_char_per_time" />
<figcaption aria-hidden="true">left2right_one_char_per_time</figcaption>
</figure>
<p>Regular Expression Engine will try to match <code>car</code> firstly
one character per time to see it's fully match or not, if can't match,
it will backtrack to 'c', and try to match the second choice,
'carpet'</p>
<p>这种写法的结果就是：只匹配到了 <code>car</code> 而匹配不到
<code>carpet</code></p>
<h5 id="pattern-adjust">Pattern Adjust</h5>
<ol type="1">
<li><p>下面我们来修正一下，使其可以正确匹配：</p>
<p>Pattern: <code>\b(car|carpet)\b</code></p>
<p>匹配过程： <img
src="https://raw.githubusercontent.com/violetu/blogimages/master/20200630174421.png"
alt="revision" /></p>
<p>当正则引擎在文本中遇到 <code>carpet</code>时， 先匹配
<code>car</code>，逐个字符匹配，<code>c a r</code>
然后该匹配边界了，发现为 <code>p</code>
不是边界，然后正则引擎沿原路径回溯，准备匹配 <code>carpet</code>
路径，逐个字符匹配发现可以，就匹配成功。</p>
<p>但是，我们可以看出根据 Regexp Engine 遵循的 Left to Right 方式，这种
Pattern 在遇到 <code>carpet</code>
的时候，仍然需要回溯，这样大大降低了效率。</p></li>
<li><p>为加深对正则引擎了解，我们再看一下</p>
<p>Pattern： <code>\bcar|carpet\b</code> 这个 Pattern
和修正的只有一对括号的区别，却是正与错的差距。 因为 <code>|</code>
会将整个模式分成两半，所以这个 Pattern 基本等同于：
<code>(\bcar)|(carpet\b)</code> 的作用。</p></li>
</ol>
<h4 id="pattern-adjust-again">Pattern Adjust Again</h4>
<p>Pattern; <code>\bcar(pet)?\b</code></p>
<h4 id="summary">Summary</h4>
<p>Pattern and Text are evaluated Left to Right</p>
<p>In-order to minimize backtracking, extract common patterns out
<code>car(pet)?</code> Write more precise patterns first followed by
more generic patterns</p>
<h3 id="greedylazy-and-backtracking">Greedy，lazy and Backtracking</h3>
<p>Greedy -Consume as much of the input text as possible and then
give-up the characters to match rest of the pattern.</p>
<ul>
<li>量词 <code>*, +, ?</code> 是贪婪的（greedy），
它们会尝试匹配尽可能多的输入文本。(其中 <code>?</code>
贪婪和懒惰区别不大)</li>
<li>有时候，当这些量词应用在像 <code>.</code>
这样的通配符上时，会消耗掉你全部的文本，从而导致饿死 Pattern
中的后续部分。</li>
<li>通过在 <code>*, +, ?</code>
等后面再加一个问号，即：<code>*?, +?, ??</code>，使其变为懒惰模式。</li>
<li>Regexp Engine 评估计算， 每次回溯一步，来看它是否能满足 Pattern
中的后续部分。</li>
</ul>
<h4 id="example-2">Example</h4>
<p>Problem：Find sentences ending with a number and extract the number.
Pattern: <code>.+(\d+)[.!]</code> text： First 1234. Second 5678！</p>
<p>Regexp Engine 匹配步骤： 首先， <code>.</code> 是贪婪的， 会匹配
<code>First 1234. Second 5678！</code> , 然后发现后面的部分:
<code>(\d+)[.!]</code> 被饿死了。继而向前回溯一个字符，
<code>First 1234. Second 5678</code> , 然后 <code>(\d+)</code>
还是被饿死了， 再向前回溯一个字符 <code>First 1234. Second 567</code> ,
于是匹配成功。 <code>.+</code> 匹配：
<code>First 1234. Second 567</code> , <code>(\d+)</code> 匹配了 8，
<code>[.!]</code> 匹配了 <code>！</code></p>
<h4 id="lazy">Lazy</h4>
<p>Lazy — Consumes as few input text as possible and then attempts to
match rest of the patterns</p>
<p>量词 <code>*, +, ?</code> 是贪婪的</p>
<ul>
<li>Quantifiers <code>*,+,?</code> can be turned to Lazy by adding a
<code>?</code> After the quantifier</li>
</ul>
<p>Example: <code>*?, +?, ??</code></p>
<ul>
<li>Idea behind lazy is' to match as few times as possible for
quantifiers and proceed to match rest of the pattern</li>
<li>When there is no match for a pattern, lazy mode backtracks on the
pattern and <strong>expands to match more characters in
input.</strong></li>
</ul>
<h4 id="example-3">Example</h4>
<p>Pattern: <code>.+?(\d+)[.!]</code> text： First 1234. Second
5678！</p>
<p>通过 <code>?</code> 使得 <code>+</code> 变成 lazy 模式。lazy 使得
<code>.</code> 先匹配尽可能少的， 于是匹配了 F, 然后进行
匹配，发现没有数字可以匹配了， 那就 Pattern 向前回溯一步， 接着通过
<code>.</code> 匹配， 于是匹配 <code>Fi</code> , 然后再次进行
匹配，发现仍然不行，进而 Pattern 再次回溯， Pattern 如此反复回溯， 最终
<code>.</code> 匹配了 <code>First</code> , <code>\d</code> 匹配了
<code>1234</code> ， 标点符号匹配了 <code>.</code></p>
<h3 id="groups">Groups</h3>
<h4 id="indexed-named-non-capturing">Indexed， Named， Non
Capturing</h4>
<p>用处一：</p>
<p>Break a pattern into sub-patterns; pinpoint location of matching
string and sub-strings Groups are any pattern specified inside a
parenthesis <code>()</code> Reuse common patterns, Mark as optional —
minimize backtracking <code>car(pet)?</code></p>
<p>Extract Values:
<code>(?P&lt;year&gt;\d&#123;4&#125;)(?P&lt;month&gt;\d&#123;2&#125;)(?P&lt;day&gt;\d&#123;2&#125;)</code></p>
<p>用处二： Capture Repeating Sub-Patterns
<code>\d+(, \d&#123;3&#125;)*(\.\d&#123;2&#125;)?</code></p>
<p>Matches： 123.67 123, 456.75 127, 546, 245.58</p>
<h5 id="indexed-group">Indexed Group</h5>
<ul>
<li><p>Capture matching substring</p>
<p>• Problem: Extract year, month and day from string yyyymmdd •
Pattern: ()()() • Text: 20160501</p></li>
<li><p>Access by group number</p>
<p>Groups are numbered from left-to-right. Every open parenthesis is
assigned anincreasing number starting from 1 Group 0 =&gt; Refers to
whole pattern Group 1 =&gt; () Group 2 =&gt; () Group 3 =&gt; () python
中 group() 方法默认返回 whole pattern</p></li>
</ul>
<h4 id="named-group">Named Group</h4>
<p>在左括号后加
<code>?P&lt;group_name&gt;</code>,例如：<code>(？P&lt;name&gt;\d+?)</code></p>
<h5 id="non-capturing-groups">Non-Capturing Groups</h5>
<p>有时候我们使用 group 只是为了匹配，而并不想捕获 group 的值。例如：
Groups are used here to capture repeating patterns， 比如上面 pattern 的
<code>(,\d&#123;3&#125;)*(\.\d&#123;2&#125;)?</code>
两个分组，我们并不关注分组自己的内容，我们使用分组是为了更好地匹配整体。Group
capture is expensive, turn it off when not needed</p>
<ul>
<li><p>Match without group capture</p>
<p>Problem: Match number of format 999,999,999.99 Capturing Groups
Version Pattern: <code>\d+(,\d&#123;3&#125;)*(\.\d&#123;2&#125;)?</code> Text:
20,198,425.12</p></li>
</ul>
<p>方法：在分组 ( ) 内的开头增加 <code>?:</code></p>
<p>Non-Capturing Group (?:) Pattern:
<code>\d+(?:,\d&#123;3&#125;)*(?:\.\d&#123;2&#125;)?</code></p>
<h4 id="group---back-reference-and-substitution">Group - Back reference
and Substitution</h4>
<ul>
<li>Back reference refers to a group that was captured earlier and used
subsequently in</li>
</ul>
<p>• Problem: Identify repeating words • Pattern:
<code>(?P&lt;word&gt;\w+)\s+(?P=word)\b</code> • Text: capture duplicate
duplicate words</p>
<p>• Problem: Identify repeating letters • Pattern:
<code>(?P&lt;1etter&gt;\w)(?P=1etter)</code></p>
<ul>
<li>Substitution pattern used for text replacement can refer to
previously captured group</li>
</ul>
<ol type="1">
<li><p><code>\g</code></p>
<p>• Problem: Identify repeating words and remove repetition • Find
Pattern: <code>(?P&lt;word&gt;\w+)\s+(?P=word)\b</code> • Replacement
Pattern: <code>\g&lt;word&gt;</code></p></li>
<li><p>使用 <code>\num</code></p>
<p>比如： <code>\1</code> 表示第一个分组</p></li>
</ol>
<h3 id="lookarounds">Lookarounds</h3>
<p>Lookbehinds and lookaheads (also called lookarounds) are specific
types of non-capturing groups (used to match a pattern but without
including it in the matching list)</p>
<p>Look ahead — Peek at what is coming up next without consuming the
characters Look behind — Look at what came before current character Both
are called <strong>zero width assertions</strong> - Returns True or
False - Does not consume any characters</p>
<ul>
<li>Look ahead is similar to "if (expression) yes_expression"</li>
<li>Look ahead and Look behind can contain patterns Allows you to
implement more complex conditional logic</li>
<li>Does not backtrack — Once it return a true/false, job is done. If
pattern does not match, Look ahead/Look behind would not backtrack to
try another match.</li>
</ul>
<p>these two assertion don't consume and match the Look part.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Symbol</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>?=</code></td>
<td>Positive Lookahead（希望未去的前方(右边)有）</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>?!</code></td>
<td>Negative Lookahead（希望未去的前方(右边)无）</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>?&lt;=</code></td>
<td>Positive Lookbehind（希望已来的后方(左边)边有）</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>?&lt;!</code></td>
<td>Negative Lookbehind （希望已来的后方(左边)边无）</td>
</tr>
</tbody>
</table>
<h2 id="regular-expression-proformance">Regular Expression
Proformance</h2>
<h3 id="backtracking-exponential-delay-example">Backtracking Exponential
Delay Example</h3>
<p>Type of patterns that can cause performance issues</p>
<p>Problem: Match a word Pattern: <code>^(\w*)*$</code> Text (Positive):
12345678901234567890 Text (partial match): 12345678901234567890!</p>
<p>Pattern works perfectly for positive matches. With partial matches,
perfomance degrades rapiadly and every addtional character double the
response time.</p>
<p>正则引擎： Match 1: 1 Match 2: 12 Match 3: 123 Match 4: 1234 Match 5:
12345 - <code>!</code> Does not match stops now. And end of string $
match fails. 于是， Pattern 进行回溯，匹配出两组：(1234）（5）,
然后最后还是有 <code>！</code> 不能满足结尾。
因此，继续回溯，匹配出两组：(123）（45）, 然后最后还是有 <code>！</code>
不能满足结尾。 就这样回溯到头，然后匹配失败</p>
<h2 id="issues-and-fix">4.2. Issues and Fix</h2>
<p>Pattern: <code>(\w*)*</code> =&gt; <code>(\w*)(\w*)(\w*)</code>
多个相似的贪婪模式捕获相同的字符(串)，会导致严重的性能问题。</p>
<p>修改方式：</p>
<ul>
<li>Option 1: No need to have a group level quantifier</li>
</ul>
<p><code>^(\w*)*$</code> =&gt; <code>^(\w*)$</code></p>
<ul>
<li>Option 2: Precise terminating condition. Every word in group should
end in a word boundary.</li>
</ul>
<p><code>^(\w*)*$</code> =&gt; <code>^(\w*\b)*$</code></p>
<ul>
<li>Disable group capture</li>
</ul>
<p><code>^(\w*)$</code> =&gt; <code>\w*$</code> or
<code>^(?:\w*)$</code></p>
<h2 id="module-versus-compiled-regex-method-invocation">Module Versus
Compiled Regex Method Invocation</h2>
<p>Compiled Regex Objects vs Module Methods You have two ways to invoke
regular expression functionality</p>
<ul>
<li>Create a compiled object and invoke methods of that object</li>
<li>Use re module methods directly</li>
</ul>
<p>编译对象的方法提供了一些微调参数。 例如：搜索的开始、结束位置</p>
<p>re module caches the compiled version of patterns and reuses them</p>
<ul>
<li>Python 3 Pattern Cache Size is 512</li>
<li>Python 2 Pattern Cache size is 100</li>
<li>When patterns exceed cache size, current implementation of re simply
clears the entire cache.</li>
</ul>
<p>Best Practice: For high performance and/or high frequency invocation
of patterns — Use compiled objects, hold reference to the objects and
reuse them.</p>
<p>总体来说： 遇到一个 pattern 需要重复匹配多次，或者多个 pattern
匹配的情况，使用编译好的 pattern 对象更加快。 re module 在重复次数少，
python3 下 pattern 缓存个数比较少于缓存值：512 时，效果还行。</p>
<h2 id="match-unicode-characters">Match Unicode Characters</h2>
<p>vscode 和 pyhton3 的 re 模块默认的都是 unicode 字符集，因此在 Python3
的 re 模块或 vscode 中都直接使用即可： <code>[\u4e00-\u9fa5]</code></p>
<p>匹配的是能组成单词的字符，在 python3 中 re 默认支持的是 unicode
字符集，当然也支持汉字。只要加入 re.A 就可以解决这样问题，</p>
<h2 id="参考资料">参考资料</h2>
<ol type="1">
<li><a
target="_blank" rel="noopener" href="https://blog.csdn.net/tinyletero/article/details/8201465">unicode
编码[e00-fa5]匹配所有中文</a></li>
<li><a
target="_blank" rel="noopener" href="https://blog.csdn.net/suzimuyu99/article/details/80924402">Python
正则匹配中文的问题</a></li>
</ol>
</div><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Regexp/" rel="tag">Regexp</a></li></ul></div><div class="post-nav"><a class="pre" href="/blog/2021/06/16/programming/python/re_practice/">python re 函数操作练习</a><a class="next" href="/blog/2021/06/15/programming/python/colab/">记录 colab 的使用</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/" title=""><img class="nofancybox" src="/blog/img/avatar.png"/></a><p>What keeps me alive is my love for people and life and my desire to explore the unknown</p><a class="info-icon" href="mailto:findrealyee@outlook.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/realyee/" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Cryptography/">Cryptography</a><span class="category-list-count">29</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Cryptography/math/">math</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Cryptography/zero-knowledge-proof/">zero-knowledge proof</a><span class="category-list-count">20</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Golang/">Golang</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/academic/">academic</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/blockchain/">blockchain</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/cplusplus/">cplusplus</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/go/">go</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/linux/">linux</a><span class="category-list-count">34</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/linux/git/">git</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/linux/macos/">macos</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/linux/tools/">tools</a><span class="category-list-count">12</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/misc/">misc</a><span class="category-list-count">16</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/misc/latex/">latex</a><span class="category-list-count">5</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/ml/">ml</a><span class="category-list-count">27</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/ml/rl/">rl</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/network/">network</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/os/">os</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/php/">php</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/probabilities/">probabilities</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/python/">python</a><span class="category-list-count">64</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/security-miscellaneous/">security miscellaneous</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/shell/">shell</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/utilities/">utilities</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/websec/">websec</a><span class="category-list-count">35</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/websec/cmd-execution/">cmd_execution</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/websec/file-upload/">file_upload</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/websec/logic-vuln/">logic_vuln</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/websec/sql-injection/">sql injection</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/websec/xss/">xss</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/wireshark/">wireshark</a><span class="category-list-count">7</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/blog/tags/academic/" style="font-size: 15px;">academic</a> <a href="/blog/tags/sci/" style="font-size: 15px;">sci</a> <a href="/blog/tags/jcr/" style="font-size: 15px;">jcr</a> <a href="/blog/tags/ml/" style="font-size: 15px;">ml</a> <a href="/blog/tags/cuda/" style="font-size: 15px;">cuda</a> <a href="/blog/tags/misc/" style="font-size: 15px;">misc</a> <a href="/blog/tags/vscode/" style="font-size: 15px;">vscode</a> <a href="/blog/tags/threat-intelligence/" style="font-size: 15px;">threat intelligence</a> <a href="/blog/tags/typing/" style="font-size: 15px;">typing</a> <a href="/blog/tags/distance/" style="font-size: 15px;">distance</a> <a href="/blog/tags/osi-sec/" style="font-size: 15px;">osi_sec</a> <a href="/blog/tags/smtp/" style="font-size: 15px;">smtp</a> <a href="/blog/tags/mail/" style="font-size: 15px;">mail</a> <a href="/blog/tags/Boot/" style="font-size: 15px;">Boot</a> <a href="/blog/tags/Computer/" style="font-size: 15px;">Computer</a> <a href="/blog/tags/FAT/" style="font-size: 15px;">FAT</a> <a href="/blog/tags/FDT/" style="font-size: 15px;">FDT</a> <a href="/blog/tags/os/" style="font-size: 15px;">os</a> <a href="/blog/tags/efi/" style="font-size: 15px;">efi</a> <a href="/blog/tags/Python/" style="font-size: 15px;">Python</a> <a href="/blog/tags/Tools/" style="font-size: 15px;">Tools</a> <a href="/blog/tags/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/" style="font-size: 15px;">网络协议</a> <a href="/blog/tags/Wireshark%E5%8A%9F%E8%83%BD/" style="font-size: 15px;">Wireshark功能</a> <a href="/blog/tags/%E6%B8%97%E9%80%8F/" style="font-size: 15px;">渗透</a> <a href="/blog/tags/%E6%8A%93%E5%8C%85/" style="font-size: 15px;">抓包</a> <a href="/blog/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 15px;">计算机网络</a> <a href="/blog/tags/zkp/" style="font-size: 15px;">zkp</a> <a href="/blog/tags/circom/" style="font-size: 15px;">circom</a> <a href="/blog/tags/git/" style="font-size: 15px;">git</a> <a href="/blog/tags/ssh/" style="font-size: 15px;">ssh</a> <a href="/blog/tags/arch/" style="font-size: 15px;">arch</a> <a href="/blog/tags/manjaro/" style="font-size: 15px;">manjaro</a> <a href="/blog/tags/chmod/" style="font-size: 15px;">chmod</a> <a href="/blog/tags/ping/" style="font-size: 15px;">ping</a> <a href="/blog/tags/network/" style="font-size: 15px;">network</a> <a href="/blog/tags/find/" style="font-size: 15px;">find</a> <a href="/blog/tags/head/" style="font-size: 15px;">head</a> <a href="/blog/tags/tail/" style="font-size: 15px;">tail</a> <a href="/blog/tags/ioredirect/" style="font-size: 15px;">ioredirect</a> <a href="/blog/tags/pipe/" style="font-size: 15px;">pipe</a> <a href="/blog/tags/fd/" style="font-size: 15px;">fd</a> <a href="/blog/tags/iproute2/" style="font-size: 15px;">iproute2</a> <a href="/blog/tags/kill/" style="font-size: 15px;">kill</a> <a href="/blog/tags/hardlink/" style="font-size: 15px;">hardlink</a> <a href="/blog/tags/softlink/" style="font-size: 15px;">softlink</a> <a href="/blog/tags/netstat/" style="font-size: 15px;">netstat</a> <a href="/blog/tags/ss/" style="font-size: 15px;">ss</a> <a href="/blog/tags/lsof/" style="font-size: 15px;">lsof</a> <a href="/blog/tags/traceroute/" style="font-size: 15px;">traceroute</a> <a href="/blog/tags/vim/" style="font-size: 15px;">vim</a> <a href="/blog/tags/latex/" style="font-size: 15px;">latex</a> <a href="/blog/tags/CNN/" style="font-size: 15px;">CNN</a> <a href="/blog/tags/convolution/" style="font-size: 15px;">convolution</a> <a href="/blog/tags/CMake/" style="font-size: 15px;">CMake</a> <a href="/blog/tags/Make/" style="font-size: 15px;">Make</a> <a href="/blog/tags/php/" style="font-size: 15px;">php</a> <a href="/blog/tags/python/" style="font-size: 15px;">python</a> <a href="/blog/tags/re/" style="font-size: 15px;">re</a> <a href="/blog/tags/Regexp/" style="font-size: 15px;">Regexp</a> <a href="/blog/tags/shell/" style="font-size: 15px;">shell</a> <a href="/blog/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/blog/tags/pseudo-static/" style="font-size: 15px;">pseudo static</a> <a href="/blog/tags/sql-injection/" style="font-size: 15px;">sql injection</a> <a href="/blog/tags/XSS/" style="font-size: 15px;">XSS</a> <a href="/blog/tags/collection/" style="font-size: 15px;">collection</a> <a href="/blog/tags/collections/" style="font-size: 15px;">collections</a> <a href="/blog/tags/comprehensions/" style="font-size: 15px;">comprehensions</a> <a href="/blog/tags/fun/" style="font-size: 15px;">fun</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/2023/09/18/ml/wasserstein_dist/">Delve into Wasserstein Distance, principles and implementation analysis</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/09/17/math/probabilities/wasserstein_bg/">Probabilities background for Wasserstein Distance</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/08/11/academic/papers/ldp_location/">L-SRR Local Differential Privacy for Location-Based Services with Staircase Randomized Response</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/08/10/academic/papers/ldp_byz_fl/">Practical Differentially Private and Byzantine-resilient Federated Learning</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/08/04/academic/papers/fedrecover/">FedRecover 论文阅读笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/08/04/academic/papers/flcert/">FLCert Provably Secure Federated Learning against Poisoning Attacks 论文阅读笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/08/04/academic/papers/fltrust/">FLTrust Byzantine-robust Federated Learning via Trust Bootstrapping 论文阅读笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/05/30/crypto/zk/specific2program/">zk with programmability</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/04/30/crypto/zk/great_resource/">zk 资料汇总</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2023/04/16/misc/latex/latex_grammars/">常用 LaTeX 语法总结</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://snowolf0620.xyz/" title="snowolf0620" target="_blank">snowolf0620</a><ul></ul><a href="https://space.keter.top/" title="Sonder" target="_blank">Sonder</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2024 <a href="/blog/." rel="nofollow">realyee's blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/blog/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/blog/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/blog/css/search.css?v=1.0.0"><script type="text/javascript" src="/blog/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/blog/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/blog/js/copycode.js?v=1.0.0" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/blog/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/blog/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/blog/js/smartresize.js?v=1.0.0"></script></div></body></html>